<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Map</title>
    <style>
      #container {
        width: 701px;
        font-size: 0px;
      }
      .cell {
        display: inline-block;
        width: 6px;
        height: 6px;
        line-height: 6px;
        background-color: lightgray;
        border-style: solid;
        border-color: white;
        border-width: 0 1px 1px 0;
        vertical-align: middle;
      }
    </style>
  </head>
  <body>
    <div id="container"></div>
    <button onclick="save()">Save</button>

    <script>
      class Sorted {
        constructor(data, compare) {
          this.data = data.slice();
          this.compare = compare || ((a, b) => a - b);
        }

        /**
         * 从数据集中移出最小元素
         */
        take() {
          if (!this.data.length) return;

          let min = this.data[0];
          let minIndex = 0;

          // 线性查找最小元素
          for (let i = 1; i < this.data.length; i++) {
            if (this.compare(this.data[i], min) < 0) {
              min = this.data[i];
              minIndex = i;
            }
          }
          // 准备提取 min 值, 所在位置将空出, 用队尾元素覆盖
          this.data[minIndex] = this.data[this.data.length - 1];
          // pop 操作比 splice 开销小
          this.data.pop();
          // 返回之前保存的 min 原值
          return min;
        }

        give(v) {
          this.data.push(v);
        }
      }
    </script>
  </body>
</html>
